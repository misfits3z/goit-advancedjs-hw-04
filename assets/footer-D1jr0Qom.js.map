{"version":3,"file":"footer-D1jr0Qom.js","sources":["../../src/js/api-service.js","../../src/js/footer.js"],"sourcesContent":["//string request\nexport const baseUrl = () => {\n    return 'https://your-energy.b.goit.study/api';\n  }\n  \n  export const exerciseUrl = () => {\n    return  baseUrl() + '/exercises';\n  }\n  \n  export const filtersUrl = () =>{\n    return  baseUrl() + '/filters';\n  }\n  \n  export const quoteURL = () => {\n    return  baseUrl() + '/quote';\n  }\n  \n  export const subscriptionURL = () => {\n    return  baseUrl() + '/subscription';\n  }\n  \n  export const  exerciseRequest = (bodypart,muscles,equipment,keyword,page,limit) => {\n    return `${exerciseUrl()}?bodypart=${bodypart}&muscles=${muscles}&equipment=${equipment}&${keyword}=2&page=${page}&limit=${limit}`\n  }\n  \n  export const filtersRequest = (filter, page, limit) => {\n    return `${filtersUrl()}?filter=${filter}&page=${page}&limit=${limit}`\n  }\n  \n  export const quoteRequest = () => {\n    return  quoteURL();\n  }\n  \n  export const subscriptionRequest = () => {\n    return  subscriptionURL();\n  }\n  \n  export const exerciseInfoRequest = (id) => {\n    return `${exerciseUrl()}/exercises/${id}`\n  }\n  \n  export const addRatingRequest = (id) => {\n    return `${exerciseUrl()}/${id}/rating`\n  }","import axios from \"axios\";\n// import Notiflix from 'notiflix';\nimport {subscriptionRequest} from './api-service';\n\n\nconst form = document.querySelector('.subscribe-form');\nconst emailInput = form.elements.email;\n\nlet formData = { email: \"\" };\nconst STORAGE_KEY = 'subscribe-form-state';\n\n// Збереження даних у LocalStorage\nconst saveToLocalStorage = () => {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n};\n\n// Завантаження даних з LocalStorage\nconst loadFromLocalStorage = () => {\n    const savedData = localStorage.getItem(STORAGE_KEY);\n    if (savedData) {\n        formData = JSON.parse(savedData);\n        emailInput.value = formData.email || '';\n    }\n};\n\n// Завантажуємо дані з LocalStorage при завантаженні сторінки\nloadFromLocalStorage();\n\n// Обробник події input для збереження змін\nform.addEventListener('input', (event) => {\n    const { name, value } = event.target;\n    formData[name] = value.trim();\n    saveToLocalStorage();\n});\n\n// Обробник події submit\nform.addEventListener('submit', async (event) => {\n    event.preventDefault();\n\n    // Перевірка валідації email\n    if (!emailInput.validity.valid) {\n        alert('Please enter a valid email');\n        return;\n    }\n\n    // Створення обʼєкта з даними форми\n    formData.email = emailInput.value.trim();\n\n    try {\n        // Відправка запиту на сервер\n        const response = await axios.post(subscriptionRequest(), formData);\n\n        // Перевірка на наявність помилок у відповіді\n        if (response.data.error) {\n            if (response.status === 409) {\n                alert('This email is already subscribed.');\n            } else {\n                alert('Subscription failed. Please try again later.');\n            }\n        } else {\n            alert('Subscription successful!');\n        }\n    } catch (error) {\n        // Обробка помилок запиту\n        if (error.response && error.response.status === 409) {\n            alert('This email is already subscribed.');\n        } else {\n            alert('Subscription failed. Please try again later.');\n        }\n    }\n\n   \n    form.reset();\n    localStorage.removeItem(STORAGE_KEY);\n});\n"],"names":["baseUrl","subscriptionURL","subscriptionRequest","form","emailInput","formData","STORAGE_KEY","saveToLocalStorage","loadFromLocalStorage","savedData","event","name","value","response","axios","error"],"mappings":"+uBACO,MAAMA,EAAU,IACZ,uCAeIC,EAAkB,IACrBD,EAAS,EAAG,gBAeTE,EAAsB,IACzBD,EAAe,EC7BrBE,EAAO,SAAS,cAAc,iBAAiB,EAC/CC,EAAaD,EAAK,SAAS,MAEjC,IAAIE,EAAW,CAAE,MAAO,IACxB,MAAMC,EAAc,uBAGdC,EAAqB,IAAM,CAC7B,aAAa,QAAQD,EAAa,KAAK,UAAUD,CAAQ,CAAC,CAC9D,EAGMG,EAAuB,IAAM,CAC/B,MAAMC,EAAY,aAAa,QAAQH,CAAW,EAC9CG,IACAJ,EAAW,KAAK,MAAMI,CAAS,EAC/BL,EAAW,MAAQC,EAAS,OAAS,GAE7C,EAGAG,IAGAL,EAAK,iBAAiB,QAAUO,GAAU,CACtC,KAAM,CAAE,KAAAC,EAAM,MAAAC,GAAUF,EAAM,OAC9BL,EAASM,CAAI,EAAIC,EAAM,KAAI,EAC3BL,GACJ,CAAC,EAGDJ,EAAK,iBAAiB,SAAU,MAAOO,GAAU,CAI7C,GAHAA,EAAM,eAAc,EAGhB,CAACN,EAAW,SAAS,MAAO,CAC5B,MAAM,4BAA4B,EAClC,MACH,CAGDC,EAAS,MAAQD,EAAW,MAAM,KAAI,EAEtC,GAAI,CAEA,MAAMS,EAAW,MAAMC,EAAM,KAAKZ,EAAmB,EAAIG,CAAQ,EAG7DQ,EAAS,KAAK,MACVA,EAAS,SAAW,IACpB,MAAM,mCAAmC,EAEzC,MAAM,8CAA8C,EAGxD,MAAM,0BAA0B,CAEvC,OAAQE,EAAO,CAERA,EAAM,UAAYA,EAAM,SAAS,SAAW,IAC5C,MAAM,mCAAmC,EAEzC,MAAM,8CAA8C,CAE3D,CAGDZ,EAAK,MAAK,EACV,aAAa,WAAWG,CAAW,CACvC,CAAC"}